<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>flying-high: inc/defs.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>inc/defs.h</h1><a href="defs_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00010"></a>00010 <span class="preprocessor">#ifndef _DEFS_H_</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span><span class="preprocessor">#define _DEFS_H_</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span>
<a name="l00017"></a><a class="code" href="defs_8h.html#a71809484a26cd96c6abe839a0a8a289d">00017</a> <span class="preprocessor">#define byte unsigned char</span>
<a name="l00018"></a>00018 <span class="preprocessor"></span>
<a name="l00022"></a><a class="code" href="defs_8h.html#a836535f59bf515522a395858a8029d42">00022</a> <span class="preprocessor">#define word short int</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span>
<a name="l00027"></a><a class="code" href="defs_8h.html#a55849dc98f28432a4601c29a4a352a97">00027</a> <span class="preprocessor">#define dword int</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span>
<a name="l00032"></a><a class="code" href="defs_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">00032</a> <span class="preprocessor">#define TRUE 1</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span>
<a name="l00037"></a><a class="code" href="defs_8h.html#aa93f0eb578d23995850d61f7d61c55c1">00037</a> <span class="preprocessor">#define FALSE !TRUE</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span>
<a name="l00042"></a><a class="code" href="defs_8h.html#aba51915c87d64af47fb1cc59348961c9">00042</a> <span class="preprocessor">#define OK      TRUE</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span>
<a name="l00047"></a><a class="code" href="defs_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">00047</a> <span class="preprocessor">#define ERROR FALSE</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span>
<a name="l00053"></a><a class="code" href="defs_8h.html#a8026e8d87908b0239264d643c90183f5">00053</a> <span class="preprocessor">#define _READ   0x01</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span>
<a name="l00058"></a><a class="code" href="defs_8h.html#a622e22a8bb12b59a4e14802f6aa1737e">00058</a> <span class="preprocessor">#define _WRITE  0x02</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span>
<a name="l00064"></a><a class="code" href="defs_8h.html#ad930a240d62012e99d9f9dc2b618b3e8">00064</a> <span class="preprocessor">#define SEND_TO_VIDEO   1</span>
<a name="l00065"></a>00065 <span class="preprocessor"></span>
<a name="l00069"></a><a class="code" href="defs_8h.html#ae30b01f0637fa2a2ef0ee72fbbaee2a2">00069</a> <span class="preprocessor">#define WRITE_ON_TTY    0</span>
<a name="l00070"></a>00070 <span class="preprocessor"></span>
<a name="l00075"></a><a class="code" href="defs_8h.html#a057b722e3d1168cf748c4936f59b7769">00075</a> <span class="preprocessor">#define TTY_RAW                 0</span>
<a name="l00076"></a>00076 <span class="preprocessor"></span>
<a name="l00080"></a><a class="code" href="defs_8h.html#afd70646efe5984e361c17010322a5711">00080</a> <span class="preprocessor">#define TTY_CANONICAL   1</span>
<a name="l00081"></a>00081 <span class="preprocessor"></span>
<a name="l00086"></a><a class="code" href="defs_8h.html#a0b674752cca6d434a1a69f40877eb2be">00086</a> <span class="preprocessor">#define LOAD    0</span>
<a name="l00087"></a>00087 <span class="preprocessor"></span>
<a name="l00091"></a><a class="code" href="defs_8h.html#ab2868d85c8a74e3ee08bdc44580e2235">00091</a> <span class="preprocessor">#define SAVE    1</span>
<a name="l00092"></a>00092 <span class="preprocessor"></span>
<a name="l00097"></a><a class="code" href="defs_8h.html#ac00bfb46347d26fdc58568fe1ab5fa5b">00097</a> <span class="preprocessor">#define STDIN   0</span>
<a name="l00098"></a>00098 <span class="preprocessor"></span>
<a name="l00102"></a><a class="code" href="defs_8h.html#a8875037d0772a4fc34516f1e03d7e238">00102</a> <span class="preprocessor">#define STDOUT  1</span>
<a name="l00103"></a>00103 <span class="preprocessor"></span>
<a name="l00107"></a><a class="code" href="defs_8h.html#ac242dc8b10d052be6043664a044fdb87">00107</a> <span class="preprocessor">#define IN_ATT  2</span>
<a name="l00108"></a>00108 <span class="preprocessor"></span>
<a name="l00112"></a><a class="code" href="defs_8h.html#a26743ec6d52be788fe60acfe2865d5ae">00112</a> <span class="preprocessor">#define OUT_ATT 3</span>
<a name="l00113"></a>00113 <span class="preprocessor"></span>
<a name="l00118"></a><a class="code" href="defs_8h.html#a7ae1ae649327b67ce210e47ea1ed07dc">00118</a> <span class="preprocessor">#define ATOMIC                  1</span>
<a name="l00119"></a>00119 <span class="preprocessor"></span>
<a name="l00123"></a><a class="code" href="defs_8h.html#a33d80cf420a3739faa00760673eee7db">00123</a> <span class="preprocessor">#define UNATOMIC                !ATOMIC</span>
<a name="l00124"></a>00124 <span class="preprocessor"></span>
<a name="l00128"></a><a class="code" href="defs_8h.html#a2a375179c125d0867430c6778c343b6f">00128</a> <span class="preprocessor">#define FOREGROUND              0</span>
<a name="l00129"></a>00129 <span class="preprocessor"></span>
<a name="l00133"></a><a class="code" href="defs_8h.html#a850b2f07a67b73890889e63fb8a49fda">00133</a> <span class="preprocessor">#define BACKGROUND              1</span>
<a name="l00134"></a>00134 <span class="preprocessor"></span>
<a name="l00135"></a>00135 <span class="comment">/*      Units Definitions */</span>
<a name="l00140"></a><a class="code" href="defs_8h.html#a1841fd1a462d245d8c73dce55e2f45da">00140</a> <span class="preprocessor">#define KB                                                      * (1 &lt;&lt; 10)</span>
<a name="l00141"></a>00141 <span class="preprocessor"></span>
<a name="l00145"></a><a class="code" href="defs_8h.html#aa6b38d492364d98453284934ed7caee9">00145</a> <span class="preprocessor">#define MB                                                      * (1 &lt;&lt; 20)</span>
<a name="l00146"></a>00146 <span class="preprocessor"></span>
<a name="l00147"></a>00147 <span class="comment">/* Memory Space Model */</span>
<a name="l00152"></a><a class="code" href="defs_8h.html#a94ad616f6fdced1466e60a7add259f3c">00152</a> <span class="preprocessor">#define KERNEL_SPACE                            0x00000000</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span>
<a name="l00157"></a><a class="code" href="defs_8h.html#a2d85dcc33ff0b653b17210b6861b9030">00157</a> <span class="preprocessor">#define KERNEL_SPACE_SIZE                       (8 MB)</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span>
<a name="l00162"></a><a class="code" href="defs_8h.html#aecbd22e428b6301e4e4c34e96af47b19">00162</a> <span class="preprocessor">#define MALLOC_SPACE                            (KERNEL_SPACE + KERNEL_SPACE_SIZE)</span>
<a name="l00163"></a>00163 <span class="preprocessor"></span>
<a name="l00167"></a><a class="code" href="defs_8h.html#a15861042d55ace11a79fe0b3da5814e8">00167</a> <span class="preprocessor">#define MALLOC_SPACE_SIZE                       (8 MB)</span>
<a name="l00168"></a>00168 <span class="preprocessor"></span>
<a name="l00172"></a><a class="code" href="defs_8h.html#a1ec9bed1a229be7be1c30b971ac19148">00172</a> <span class="preprocessor">#define TOTAL_MEMORY_SIZE                       (KERNEL_SPACE_SIZE + MALLOC_SPACE_SIZE)</span>
<a name="l00173"></a>00173 <span class="preprocessor"></span>
<a name="l00174"></a>00174 <span class="comment">/* Page Definitions */</span>
<a name="l00179"></a><a class="code" href="defs_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">00179</a> <span class="preprocessor">#define PAGE_SIZE                                       (4 KB)</span>
<a name="l00180"></a>00180 <span class="preprocessor"></span>
<a name="l00184"></a><a class="code" href="defs_8h.html#afdb5118f31e3b405e768aae86185858f">00184</a> <span class="preprocessor">#define PAGE_ENTRY_SIZE                         sizeof(unsigned int)</span>
<a name="l00185"></a>00185 <span class="preprocessor"></span>
<a name="l00189"></a><a class="code" href="defs_8h.html#a8e5feaae0050abc2f048607651293efe">00189</a> <span class="preprocessor">#define PAGE_ENTRIES_PER_TABLE          (PAGE_SIZE / PAGE_ENTRY_SIZE)</span>
<a name="l00190"></a>00190 <span class="preprocessor"></span>
<a name="l00194"></a><a class="code" href="defs_8h.html#a23bbe65918fee446b09dc6d3f92e0bac">00194</a> <span class="preprocessor">#define KERNEL_TABLES_QTY                       (KERNEL_SPACE_SIZE / (PAGE_SIZE * PAGE_ENTRIES_PER_TABLE))</span>
<a name="l00195"></a>00195 <span class="preprocessor"></span>
<a name="l00199"></a><a class="code" href="defs_8h.html#a6f5a06effdbd61bd2873b52fd019ac2d">00199</a> <span class="preprocessor">#define MALLOC_TABLES_QTY                       (MALLOC_SPACE_SIZE / (PAGE_SIZE * PAGE_ENTRIES_PER_TABLE))</span>
<a name="l00200"></a>00200 <span class="preprocessor"></span>
<a name="l00204"></a><a class="code" href="defs_8h.html#a2fe5b1c83a789cd19496b550290a10e2">00204</a> <span class="preprocessor">#define PAGE_TABLES_QTY                         (KERNEL_TABLES_QTY + MALLOC_TABLES_QTY)</span>
<a name="l00205"></a>00205 <span class="preprocessor"></span>
<a name="l00206"></a>00206 <span class="comment">/* Frame Definitions */</span>
<a name="l00211"></a><a class="code" href="defs_8h.html#a20851f5fd859765b86e8b9fc8b30572e">00211</a> <span class="preprocessor">#define FRAMES_PER_TABLE                        (PAGE_ENTRIES_PER_TABLE / PAGES_PER_FRAME)</span>
<a name="l00212"></a>00212 <span class="preprocessor"></span>
<a name="l00216"></a><a class="code" href="defs_8h.html#a7f80e4b553d435a097d07c74652ee861">00216</a> <span class="preprocessor">#define TOTAL_FRAMES_QTY                        (MALLOC_TABLES_QTY * FRAMES_PER_TABLE)</span>
<a name="l00217"></a>00217 <span class="preprocessor"></span>
<a name="l00218"></a>00218 <span class="comment">/* Table&#39;s Index Definitions */</span>
<a name="l00223"></a><a class="code" href="defs_8h.html#a2cac3b477c52f9e0329f6b6d8050aa34">00223</a> <span class="preprocessor">#define FIRST_KERNEL_TABLE                      0</span>
<a name="l00224"></a>00224 <span class="preprocessor"></span>
<a name="l00228"></a><a class="code" href="defs_8h.html#a8d40ab04e10902bcdca98d83ad7b5155">00228</a> <span class="preprocessor">#define FIRST_MALLOC_TABLE                      FIRST_KERNEL_TABLE + KERNEL_TABLES_QTY</span>
<a name="l00229"></a>00229 <span class="preprocessor"></span>
<a name="l00230"></a>00230 <span class="comment">/* Free Memory Bitmap Definitions */</span>
<a name="l00235"></a><a class="code" href="defs_8h.html#ab84f195ddb9b6b192088157ecf8c835f">00235</a> <span class="preprocessor">#define PAGES_PER_INT                           ((int)(sizeof(unsigned int)) * 8)</span>
<a name="l00236"></a>00236 <span class="preprocessor"></span>
<a name="l00240"></a><a class="code" href="defs_8h.html#a2d4f316ac84e27da715d76af7694e4f9">00240</a> <span class="preprocessor">#define INTS_PER_TABLE                          (PAGE_ENTRIES_PER_TABLE / 32)</span>
<a name="l00241"></a>00241 <span class="preprocessor"></span>
<a name="l00245"></a><a class="code" href="defs_8h.html#aa5efd9de5f0408f54365716967adbb87">00245</a> <span class="preprocessor">#define BITMAP_SIZE                                     (INTS_PER_TABLE * MALLOC_TABLES_QTY)</span>
<a name="l00246"></a>00246 <span class="preprocessor"></span>
<a name="l00250"></a><a class="code" href="defs_8h.html#aa810745c50d2723a02ccb8059f7e11b6">00250</a> <span class="preprocessor">#define MAX_MAPPED_ADDRESS                      (TOTAL_MEMORY_SIZE - 1)</span>
<a name="l00251"></a>00251 <span class="preprocessor"></span>
<a name="l00255"></a><a class="code" href="defs_8h.html#ac64bf9bd32b5cab356a11a0259ea9fb6">00255</a> <span class="preprocessor">#define getBitmapIndex(addr)            (((addr) / (unsigned)PAGE_SIZE) / (unsigned)PAGES_PER_INT)</span>
<a name="l00256"></a>00256 <span class="preprocessor"></span>
<a name="l00260"></a><a class="code" href="defs_8h.html#aeab9875301d2688f746797e91126b16f">00260</a> <span class="preprocessor">#define getBitmapOffset(addr)           (0x00000001 &lt;&lt; (((addr) / PAGE_SIZE) % PAGES_PER_INT))</span>
<a name="l00261"></a>00261 <span class="preprocessor"></span>
<a name="l00265"></a><a class="code" href="defs_8h.html#a9d6fc23740ab9f37272a3299949d3c11">00265</a> <span class="preprocessor">#define OFFSET_MASK                                     0xFFFFF000</span>
<a name="l00266"></a>00266 <span class="preprocessor"></span>
<a name="l00267"></a>00267 <span class="comment">/* Flags para derechos de acceso de los segmentos */</span>
<a name="l00272"></a><a class="code" href="defs_8h.html#ae60b3b1ff706b666b7eaef0a715c4490">00272</a> <span class="preprocessor">#define ACS_PRESENT     0x80            </span><span class="comment">/* segmento presente en memoria */</span>
<a name="l00273"></a>00273 
<a name="l00277"></a><a class="code" href="defs_8h.html#a0efe10800f018eacf8c3f55e7b37647e">00277</a> <span class="preprocessor">#define ACS_CSEG        0x18            </span><span class="comment">/* segmento de codigo */</span>
<a name="l00278"></a>00278 
<a name="l00282"></a><a class="code" href="defs_8h.html#a8e220a1ec7efd60bb8e56d73f480825c">00282</a> <span class="preprocessor">#define ACS_DSEG        0x10            </span><span class="comment">/* segmento de datos */</span>
<a name="l00283"></a>00283 
<a name="l00287"></a><a class="code" href="defs_8h.html#a2ed04c0e682556517761ecb25b15fe12">00287</a> <span class="preprocessor">#define ACS_READ        0x02            </span><span class="comment">/* segmento de lectura */</span>
<a name="l00288"></a>00288 
<a name="l00292"></a><a class="code" href="defs_8h.html#a409bddc73ed57ee81de6ca917cea2b27">00292</a> <span class="preprocessor">#define ACS_WRITE       0x02            </span><span class="comment">/* segmento de escritura */</span>
<a name="l00293"></a>00293 
<a name="l00297"></a><a class="code" href="defs_8h.html#a7a7ce494703b76e2a80a3e820be0fd49">00297</a> <span class="preprocessor">#define ACS_IDT         ACS_DSEG</span>
<a name="l00298"></a>00298 <span class="preprocessor"></span>
<a name="l00302"></a><a class="code" href="defs_8h.html#aab317390db9c07d896f467b7e2314698">00302</a> <span class="preprocessor">#define ACS_INT_386     0x0E            </span><span class="comment">/* Interrupt GATE 32 bits */</span>
<a name="l00303"></a>00303 
<a name="l00307"></a><a class="code" href="defs_8h.html#a8cc2a7c8288db5cf7281a58f92bc1f17">00307</a> <span class="preprocessor">#define ACS_INT         ( ACS_PRESENT | ACS_INT_386 )</span>
<a name="l00308"></a>00308 <span class="preprocessor"></span>
<a name="l00313"></a><a class="code" href="defs_8h.html#aa7ddb691bab273f0807425fe80040f1d">00313</a> <span class="preprocessor">#define ACS_CODE        (ACS_PRESENT | ACS_CSEG | ACS_READ)</span>
<a name="l00314"></a>00314 <span class="preprocessor"></span>
<a name="l00318"></a><a class="code" href="defs_8h.html#ac1572e04dde6fdf2710a883fff94cab4">00318</a> <span class="preprocessor">#define ACS_DATA        (ACS_PRESENT | ACS_DSEG | ACS_WRITE)</span>
<a name="l00319"></a>00319 <span class="preprocessor"></span>
<a name="l00323"></a><a class="code" href="defs_8h.html#a2f319798ef0f9dd5926f95d90697b7ab">00323</a> <span class="preprocessor">#define ACS_STACK       (ACS_PRESENT | ACS_DSEG | ACS_WRITE)</span>
<a name="l00324"></a>00324 <span class="preprocessor"></span>#define <a class="code" href="defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4" title="NULL pointer definition.">NULL</a> (<span class="keywordtype">void</span> *)0x0
<a name="l00329"></a>00329 
<a name="l00330"></a>00330 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Tue May 18 16:22:41 2010 for flying-high by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
